<!DOCTYPE html>
<html lang="ko-kr">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="keywords" content="Hacking"/>
    <title>03: 디지털 포렌식?</title>
    <link rel="defer" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" />
    <link rel="defer" href="style/gfm-dark.css"/>
    <link rel="defer" href="style/post.css"/>
    <link rel="defer" href="style/hl-github-dark.min.css"/>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' defer></script>
    <script src="script/highlight.min.js" defer></script>
    <script src="script/defer-css.js" defer></script>
    <script src="script/treeview.js" defer></script>
    <script src="script/search.js" defer></script>
</head>

<body>

<nav class="sidenav">
    <!-- PROFILE -->
    <section id="profile">
        <img alt="" id="profile-img" src="https://avatars.githubusercontent.com/u/64760536?v=4"/>
        <h3>Sharp0802</h3>
        <ul id="contacts">
                <li class="github-logo"><a href="https://www.github.com/Sharp0802">GitHub Account</a></li>
                <li class="email-logo"><a href="mailto:sharp0802.business@gmail.com">Email</a></li>
        </ul>
    </section>

    <br/>

    <!-- SEARCH FORM -->
    <form role="search" id="search-form">
        <svg viewBox="0 0 1024 1024">
            <path d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"/>
        </svg>
        <input id="search-box" type="text" placeholder="Search"/>
    </form>

    <!-- TREE VIEW -->
    <ul id="tree-view">
        <li>
  <span class="caret">Hacking</span>
  <ul class="nested">
    <li>
      <a href="0E176A04F68989C503016330ADBB2A63960E3533.html">03: 디지털 포렌식?</a>
    </li>
    <li>
      <a href="1922A23EF12E83BB87E7AE758B99C6D0F9ED646F.html">01: 해커다운 생각</a>
    </li>
    <li>
      <a href="DBD1D988A45A14C1C92AE07AE1E220D6EA343E86.html">02: 어떻게 취약점을 찾는가: 과제</a>
    </li>
    <li>
      <a href="C539BC10A82E478AD7CF8C117CBC93FF9C55EE10.html">02: 어떻게 취약점을 찾는가</a>
    </li>
    <li>
      <a href="D48BB906026A25AB4C45E7AAB3D343DE94DABB04.html">04: 모바일 악성코드 분석</a>
    </li>
    <li>
      <a href="6F5ED1341DA402A5A7F7750B9FE2CD75698A2560.html">05: 버그 헌팅</a>
    </li>
    <li>
      <a href="42D488CB8259657BA9F7538D161112570B760322.html">00: 해커와 해킹</a>
    </li>
  </ul>
</li><li>
  <a href="index.html">Welcome!</a>
</li><li>
  <span class="caret">C#_Unity</span>
  <ul class="nested">
    <li>
      <span class="caret">NetFramework</span>
      <ul class="nested">
        <li>
          <a href="4F554546444336B80F8E4DEC327670A9469C085B.html">Handling AccessViolationException</a>
        </li>
      </ul>
    </li>
    <li>
      <span class="caret">Unity</span>
      <ul class="nested">
        <li>
          <a href="3049198C662190E2902BAEB7B33F5529A52B665E.html">Unity Tilemap에서 C#을 이용해 타원그리기</a>
        </li>
      </ul>
    </li>
  </ul>
</li><li>
  <span class="caret">C_C++</span>
  <ul class="nested">
    <li>
      <a href="029820CC2425202CCC570682BB8048771CF21005.html">--nostdlib과 --nostartfiles에 대하여</a>
    </li>
    <li>
      <a href="0DEE01B5E20E351AA8C3B7E4BDAE7227F5471FF8.html">Clang-cl에서 SVML 사용하기</a>
    </li>
  </ul>
</li>
    </ul>
</nav>

<header id="article-header">
    <h1>03: 디지털 포렌식?</h1>
    <ul id="date-log">
                    <li>Created 2023-07-02</li>
    </ul>
</header>

<main id="article-main" class="markdown-body">
    <h1 id="section"><a id="pragma-line-2"></a>디지털 포렌식?</h1>
<ul id="pragma-line-4">
<li id="pragma-line-4">클라우드 서비스 포렌식</li>
<li id="pragma-line-5">데이터 애널리틱스</li>
<li id="pragma-line-6">데이터베이스 포렌식</li>
<li id="pragma-line-7">삭제 파일 복구</li>
<li id="pragma-line-8">디스크 카탈로스</li>
<li id="pragma-line-9">디스크 이미징</li>
<li id="pragma-line-10">드론 포렌식</li>
<li id="pragma-line-11">이메일 파싱</li>
<li id="pragma-line-12">파일 카빙</li>
<li id="pragma-line-13">포렌식 부트 환경</li>
<li id="pragma-line-14">etc&hellip;</li>
</ul>
<p id="pragma-line-16">사실 정의가 명확하진 않고,
보통 컴퓨터 범죄와 관련하여 디지털 장치에서 발견되는 자료를 복구하고 조사하는 법과학의 한 분야나 디지털증거를 수집,분석,보존,현출하는데 적용되는 과학기술 및 절차 같은 느낌으로 취급받는다.</p>
<h1 id="section-1"><a id="pragma-line-19"></a>컴퓨터 구조 이해</h1>
<p id="pragma-line-21">디지털 포렌식을 이해하기 위해, 먼저 컴퓨터 구조를 이해해야한다.</p>
<ul id="pragma-line-23">
<li id="pragma-line-23">애플리케이션: 사용자 명령을 처리하기 위한 방법을 정의한 것</li>
<li id="pragma-line-24">운영체제: UI정의, 입출력 보조, 자원 관리</li>
<li id="pragma-line-25">파일시스템: 자료 기억장치에 파일을 저장/관리하기위한 체계를 정의한 것</li>
<li id="pragma-line-26">하드웨어: 컴퓨터 연산을 위해 필요한 자원</li>
</ul>
<p id="pragma-line-28">Artifects 종류, 툴 사용 방법을 익히기 보다 수집/분석의 대상을 이해하는 과정, &quot;Windows OS의 Artifacts는 왜 남는걸까?&quot;와 같은 의문이 선행되어야 한다.</p>
<h2 id="section-2"><a id="pragma-line-30"></a>부팅 과정</h2>
<ol id="pragma-line-32">
<li id="pragma-line-32">전원 on</li>
<li id="pragma-line-33">CPU 전원 공급</li>
<li id="pragma-line-34">ROM 코드 실행
<ol id="pragma-line-35">
<li id="pragma-line-35">POST(Power On Self Test) 상태 점검</li>
<li id="pragma-line-36">BIOS 실행</li>
<li id="pragma-line-37">부트로더를 RAM에 적재 및 실행</li>
</ol>
</li>
<li id="pragma-line-38">운영체제 실행
<ol id="pragma-line-39">
<li id="pragma-line-39">부트로더가 운영체제를 메모리에 로드 및 실행</li>
</ol>
</li>
</ol>
<ul id="pragma-line-41">
<li id="pragma-line-41">커널모드에서 명령어는 시스템 자원에 직접 접근하는 것이 가능함</li>
<li id="pragma-line-42">운영체제는 커널모드를 관리/감독하는 역할을 수행함</li>
<li id="pragma-line-43">유저모드인 상태에서 시스엠 자원에 직접 접근하 수 있는 명령어(Privileged Instruction)가 실행되면 CPU는 인터럽트를 발생시켜 현재 모드를 커널모드로 변경시킴</li>
<li id="pragma-line-44">커널 모드를 활용하기위해 유저모드에서 API를 통해 시스템 콜을 호출하는 방법도 있음</li>
<li id="pragma-line-45">응용 프로그램과 하드웨어의 통신을 위해 커널이 응용 프로그램에 제공하는 명령어를 시스템 콜이라고 한다.</li>
<li id="pragma-line-46">커널이 다룰 수 없는 명령어 수신시 발생하는 것이 블루스크린</li>
</ul>
<h2 id="section-3"><a id="pragma-line-48"></a>프리패칭</h2>
<ul id="pragma-line-50">
<li id="pragma-line-50"><p id="pragma-line-50">부팅 혹은 파일을 실행할 경우 미리 저장된 정보를 메모리에서 실행하여 실행 속도를 높임</p>
</li>
<li id="pragma-line-51"><p id="pragma-line-51">목적에 따라 부트 프리패치의 응용프로그램 프리패치로 구분할 수 있음</p>
<ul id="pragma-line-52">
<li id="pragma-line-52">부트 프리패치 : <code>NTOSBOOT-BOODFAADD.pf</code></li>
<li id="pragma-line-53">응용 프로그램 프리패치 : <code>&lt;filename&gt;-&lt;filepath hash&gt;.pf</code></li>
</ul>
</li>
<li id="pragma-line-55"><p id="pragma-line-55">부트 프리패칭</p>
<ul id="pragma-line-56">
<li id="pragma-line-56">부팅과 관련된 파일이 저장장치에 흩어져 있거나, 단편화되어있어 부팅속도의 저하를 일으킴</li>
<li id="pragma-line-57">프리패쳐에 의해 시스템 부팅시 최대 120초까지 모니터링</li>
<li id="pragma-line-58">프리패칭된 파일을 이용하여 부팅속도 향상</li>
</ul>
</li>
<li id="pragma-line-60"><p id="pragma-line-60">응용 프로그햄 프리패칭</p>
<ul id="pragma-line-61">
<li id="pragma-line-61">응용프로그램 초기 실행시 응용프로그램의 이름, 실행 횟수, 마지막 실행 시간, 볼륨 정보 등 저장</li>
</ul>
</li>
</ul>
<h1 id="section-4"><a id="pragma-line-63"></a>애플 디바이스 취약점과 디지털포렌식</h1>
<ul id="pragma-line-65">
<li id="pragma-line-65">플라스트 도어: iOS 14부터 추가된 보안 기능으로, 아이 메시지를 통해 실행되는 제로 클릭 공격을 차단하기 위한 기능임.</li>
<li id="pragma-line-66">제로 클릭: 악성 첨부 파일이 보이지 않는 아이메시지를 활용하여 사용자의 행위 없이 애플 기기를 감염시키는 공격 방법</li>
</ul>
<p id="pragma-line-68">제로클릭 실행 시도를 박는 블라스트도어를 우회하여 제로클릭을 실행시킨다</p>
<ul id="pragma-line-70">
<li id="pragma-line-70">샌드박스
<ul id="pragma-line-71">
<li id="pragma-line-71">모든 앱은 다른 앱이 저장한 파일에 접근하거나 기기에 변경사항을 만들 수 없도록 제한되어 있으며, 이 상채를 생드박스화 되어있다고 표현</li>
</ul>
</li>
<li id="pragma-line-72">ASLR
<ul id="pragma-line-73">
<li id="pragma-line-73">비인가된 메모리 변경 공격을 박기 위한 기술</li>
<li id="pragma-line-74">앱이 실행될 때 모든 메모리 영역을 무작위로</li>
<li id="pragma-line-75">사용한 취약점
-제로클릭을 실행하기 위해 메모리 커럽션을 일으키고자 함
<ul id="pragma-line-77">
<li id="pragma-line-77">해당 취약점은 인티져 오버플로우를 활용하여 메모리 커럽션을 일으키고 익스플로잇 시작점으로 활용하였음</li>
</ul>
</li>
</ul>
</li>
<li id="pragma-line-78">작동방법
<ul id="pragma-line-79">
<li id="pragma-line-79">인티저 오버플로우 → 원격으로 ASLR 무력화 → 코드 실행 → 샌드박스 우회</li>
</ul>
</li>
<li id="pragma-line-80">실행 흔적
<ul id="pragma-line-81">
<li id="pragma-line-81">27개의 .gif PSD 파일이 Library/SMS/Attachments 경로에 생성됨</li>
<li id="pragma-line-82">4개의 .gif PDF 파일이 JBIG2-encoded 스트림에 생성됨</li>
</ul>
</li>
</ul>
<h1 id="section-5"><a id="pragma-line-84"></a>디지털 포렌식을 공부할때 방향을 잡기 어려운 이유</h1>
<p id="pragma-line-86">디지털 포렌식을 통해 풀어야 하는 문제/목적(혐의)가 있어야 하는데 학생 때는 그런 부분이 명확하지 않음.</p>
<h1 id="section-6"><a id="pragma-line-88"></a>실력을 키우기 위한 이런 저런 가정들</h1>
<ul id="pragma-line-90">
<li id="pragma-line-90">해쉬값이 변경되면 무결성은 반드시 깨질까?</li>
<li id="pragma-line-91">RAID 구성 방식을 고려하지 않은 패 Server에서 Disk를 분리하여 수집한다면?</li>
<li id="pragma-line-92">일체형 Desktop을 수집할 경우 어떻게 해야할까?</li>
<li id="pragma-line-93">TPM 기능이 활성화되어있는 Laptop을 수집해야 하는 경우</li>
<li id="pragma-line-94">공장초기화를 한 Mobile Device를 수집하게되면 수행할 수 있는 다른 절차는 무엇일까?</li>
<li id="pragma-line-95">수집한 Cloud 상 데이터의 원본 동일성은 어떻게 확인할 수 있을까?</li>
<li id="pragma-line-96">PC에 연결은 되어있지만, 인식되지 않은 HDD의 데이터는 수집할 수 있을까?</li>
<li id="pragma-line-97">최신 판례 동향이 기술적 관점에서 보기에 이상한 부분이 있지는 않은걸까?</li>
</ul>
<h1 id="section-7"><a id="pragma-line-99"></a>기타 수업 내용</h1>
<h2 id="section-8"><a id="pragma-line-101"></a>랜섬웨어</h2>
<p id="pragma-line-103">어느날 로또 1등에 당첨되었다.
당첨금은 19억, 1등 용지를 본떠만든 순금 50돈 황금로또와 함께 전달받았다.</p>
<p id="pragma-line-106">황금 로또는 1100만원 어치라고 한다.
황금 로또를 위해 금고를 하나 사야겠다.
얼마가 적당할까?</p>
<p id="pragma-line-110">얼만진 몰라도 일단 1100만원이 마지노선일 것 같다.</p>
<p id="pragma-line-112">이렇게, 가격을 명확히 알 수 있는 현실의 물건들은 그 가치를 명확히 알 수 있다.
그럼, 우리의 정보는 얼마일까?
애매하다.</p>
<p id="pragma-line-116">그래서 블랙 해커들은 우리의 정보를 가지고 우리를 협박하기 시작하는데, 이것이 바로 랜섬웨어다.</p>
<h2 id="section-9"><a id="pragma-line-118"></a>피싱</h2>
<p id="pragma-line-120">전화 또는 mail등을 통해 가짜 사이트로 이용자의 접속을 유도하여 금융전보등을 탈취하는 수법이다.</p>
<h2 id="section-10"><a id="pragma-line-122"></a>파밍</h2>
<p id="pragma-line-124">피싱의 한 유형으로 피싱보다 진화한 형태.
이용자 pc를 악성코드에 감염시켜 정상 사이트를 입력해도 가짜 사이트로 접속되어 금융정보 등을 탈취해가는 수법이다.</p>
<p id="pragma-line-127">DNS를 감염시켜 DHCP를 다른 곳으로 보내게 하는 등의 수법을 이용한다.</p>
<h2 id="section-11"><a id="pragma-line-129"></a>디지털 포렌식 과정</h2>
<ul id="pragma-line-131">
<li id="pragma-line-131">사고 전 준비
<ul id="pragma-line-132">
<li id="pragma-line-132">사고가 발생하기 전, 침해사고 대응팀과 조직적인 대응을 준비</li>
</ul>
</li>
<li id="pragma-line-133">사고 탐지 (사고,제일 어려움)
<ul id="pragma-line-134">
<li id="pragma-line-134">정보보호 및 네트워크 장비에 의한 이상 징후 탐지</li>
<li id="pragma-line-135">관리자에 의한 침해 사고의 분석</li>
</ul>
</li>
<li id="pragma-line-136">초기 대응 (해결과정)
-</li>
<li id="pragma-line-138">대응 전략 쳬계화 (해결과정)</li>
<li id="pragma-line-139">데이터 수집 (해결과정,사고조사)</li>
<li id="pragma-line-140">데이터 분석 (해결과정,사고조사)</li>
<li id="pragma-line-141">보고서 작성 (해결과정)
<ul id="pragma-line-142">
<li id="pragma-line-142">의사 결정자가 쉽게 이해할 수 있는 형태로 사오게 대한 정확한 보고서를 작성</li>
</ul>
</li>
<li id="pragma-line-143">해결</li>
</ul>
<h2 id="section-12"><a id="pragma-line-145"></a>생각해볼만한 것</h2>
<p id="pragma-line-147">만약, 지하철 노선도에 음란물이 재생되고 있다고 하자.
담당 직원은 즉시 재생을 멈추려고 했지만,
해커 측에서 원격 제어를 막아놓은 듯 하다.
담당 직원은 현장으로 달려가 전원을 차단하고 메모리 카드를 뽑았다.</p>
<p id="pragma-line-152">이런 담당 직원의 대처는 올바른 것인가?</p>
<h2 id="section-13"><a id="pragma-line-154"></a>디지털 포렌식의 조건</h2>
<ul id="pragma-line-156">
<li id="pragma-line-156">적법 절차의 준수</li>
<li id="pragma-line-157">원본의 안전한 보존</li>
<li id="pragma-line-158">디지털 증거의 무결성 확보</li>
<li id="pragma-line-159">증거의 싱뢰성 증명</li>
<li id="pragma-line-160">분석 결과의 반복성</li>
<li id="pragma-line-161">진정성 유지</li>
</ul>

</main>

</body>

</html> 