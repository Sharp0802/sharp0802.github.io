<!--
Copyright (C) 2023  Yeong-won Seo

SIKA is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

SIKA is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with SIKA.  If not, see <https://www.gnu.org/licenses/>.
-->

<!DOCTYPE html>
<html lang="ko-kr">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="keywords" content="Hacking"/>
    <title>02: 어떻게 취약점을 찾는가</title>
    <link rel="defer" href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap" />
    <link rel="defer" href="style/gfm-dark.css"/>
    <link rel="defer" href="style/post.css"/>
    <link rel="defer" href="style/hl-github-dark.min.css"/>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' defer></script>
    <script src="script/highlight.min.js" defer></script>
    <script src="script/defer-css.js" defer></script>
    <script src="script/treeview.js" defer></script>
    <script src="script/search.js" defer></script>
</head>

<body>

<nav class="sidenav">
    <!-- PROFILE -->
    <section id="profile">
        <img alt="" id="profile-img" src="https://avatars.githubusercontent.com/u/64760536?v=4"/>
        <h3>Sharp0802</h3>
        <ul id="contacts">
                <li class="github-logo"><a href="https://www.github.com/Sharp0802">GitHub Account</a></li>
                <li class="email-logo"><a href="mailto:sharp0802.business@gmail.com">Email</a></li>
        </ul>
    </section>

    <br/>

    <!-- SEARCH FORM -->
    <form role="search" id="search-form">
        <svg viewBox="0 0 1024 1024">
            <path d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z"/>
        </svg>
        <input id="search-box" type="text" placeholder="Search"/>
    </form>

    <!-- TREE VIEW -->
    <ul id="tree-view">
        <li>
  <a href="/error.html">404!</a>
</li>
<li>
  <a href="/index.html">Welcome!</a>
</li>
<li>
  <span class="caret">C#_Unity</span>
  <ul class="nested">
    <li>
      <span class="caret">NetFramework</span>
      <ul class="nested">
        <li>
          <a href="/2022-02-06-accessviolationexception.html">Handling AccessViolationException</a>
        </li>
      </ul>
    </li>
    <li>
      <span class="caret">Unity</span>
      <ul class="nested">
        <li>
          <a href="/2022-03-01-ellipse-in-tilemap.html">Unity Tilemap에서 C#을 이용해 타원그리기</a>
        </li>
      </ul>
    </li>
  </ul>
</li>
<li>
  <span class="caret">C_C++</span>
  <ul class="nested">
    <li>
      <a href="/2022-02-06-svml-in-clang-cl.html">Clang-cl에서 SVML 사용하기</a>
    </li>
    <li>
      <a href="/2023-02-23-about-nostdlib-nostartfiles.html">--nostdlib과 --nostartfiles에 대하여</a>
    </li>
  </ul>
</li>
<li>
  <span class="caret">Hacking</span>
  <ul class="nested">
    <li>
      <a href="/00_define_hack.html">00: 해커와 해킹</a>
    </li>
    <li>
      <a href="/01_think_as_hacker.html">01: 해커다운 생각</a>
    </li>
    <li>
      <a href="/02E_how_to_find_vulnerability.html">02: 어떻게 취약점을 찾는가: 과제</a>
    </li>
    <li>
      <a href="/02_how_to_find_vulnerabilities.html">02: 어떻게 취약점을 찾는가</a>
    </li>
    <li>
      <a href="/03_what_is_digital_forensic.html">03: 디지털 포렌식?</a>
    </li>
    <li>
      <a href="/04_mobile_virus_analysis.html">04: 모바일 악성코드 분석</a>
    </li>
    <li>
      <a href="/05_bug_hunting.html">05: 버그 헌팅</a>
    </li>
    <li>
      <a href="/06_law_for_hacker.html">06: 해킹과 법률</a>
    </li>
    <li>
      <a href="/07_file_recovering_deleting.html">07: FS, 파일 복구 및 삭제 원리</a>
    </li>
    <li>
      <a href="/08_financial_security.html">08: 금융 보안</a>
    </li>
    <li>
      <a href="/09_development_model.html">09: 개발 모델, 개발 방법론</a>
    </li>
    <li>
      <a href="/10_cryptology.html">10: 기초 암호학</a>
    </li>
    <li>
      <a href="/11_hardware_security.html">11: 하드웨어 보안</a>
    </li>
    <li>
      <a href="/12_pentesting.html">12: 모의해킹</a>
    </li>
  </ul>
</li>

    </ul>
</nav>

<header id="article-header">
    <h1>02: 어떻게 취약점을 찾는가</h1>
    <ul id="date-log">
                    <li>Created 2023-07-01</li>
    </ul>
</header>

<main id="article-main" class="markdown-body">

<h1 id="code-auditing"><a id="pragma-line-2"></a>Code Auditing</h1>
<ul id="pragma-line-4">
<li id="pragma-line-4">소스코드를 직접 눈으로 보고 정적으로 취약점을 찾는 것</li>
<li id="pragma-line-5">Twice the Bits, Twice the Trouble: Vulnerabilities Induced by Migrating to 64-bit platforms
<ul id="pragma-line-6">
<li id="pragma-line-6"><a href="https://intellisec.de/pubs/2016-ccs.pdf" target="_blank">https://intellisec.de/pubs/2016-ccs.pdf</a></li>
<li id="pragma-line-7">32bit 플랫폼에서 잘 돌아가는 코드가 64bit플랫폼에서 취약해지는 것에 대한 연구</li>
<li id="pragma-line-8">플랫폼 사이에서 변화하는 data model의 영향을 시스템적으로 분석</li>
<li id="pragma-line-9">Contributions
<ul id="pragma-line-10">
<li id="pragma-line-10">64bit migration으로 인한 취약점
<ul id="pragma-line-11">
<li id="pragma-line-11">C/C++ 코드를 64bit data model로 이식할 때의 취약점을 시스템적으로 연구하고 정의</li>
</ul>
</li>
<li id="pragma-line-12">Empirical study (경험적 연구)
<ul id="pragma-line-13">
<li id="pragma-line-13">Debian stable linux와 같이 잘 알려진 소프트웨어를 대상으로 64bit 문제를 확장하여 연구</li>
</ul>
</li>
<li id="pragma-line-14">Case-studies
<ul id="pragma-line-15">
<li id="pragma-line-15">새롭게 발견한 6개의 취약점과, 기존의 2개의 취약점에 대해서 설명</li>
</ul>
</li>
</ul>
</li>
<li id="pragma-line-16">해볼 점
<ul id="pragma-line-17">
<li id="pragma-line-17">나만 알고 있는 듯한 것들(e.g. 컴퍼런스에서 발표되지 않은 사실이나, 학회에 발표되자 않은, 논문으로 발표되지 않은 것들)을 논문으로 써보자</li>
</ul>
</li>
<li id="pragma-line-18">배경지식
<ul id="pragma-line-19">
<li id="pragma-line-19">32bit, 64bit 플랫폼의 차이</li>
<li id="pragma-line-20">LLP64(windows), LP64(linux)모델의 차이</li>
<li id="pragma-line-21">Integer Truncations 관련 취약점
<ul id="pragma-line-22">
<li id="pragma-line-22">Integer overflow</li>
</ul>
<pre><code id="pragma-line-23" class="language-c">size_t x = attacker_controlled();
unsigned int y = x;
char *buf = malloc(y);
memcpy(buf, src, x);
</code></pre>
<ul id="pragma-line-29">
<li id="pragma-line-29">Integer signess issue</li>
</ul>
<pre><code id="pragma-line-30" class="language-c">int x = attacker_controlled();
unsigned short BUF_SIZE = 10
if (x &gt;= BUF_SIZE)
    return;
memcpy(buff, src, x);
</code></pre>
</li>
</ul>
</li>
<li id="pragma-line-37">따라서, Integer Trncations에 따라 64bit로의 migration이 프로그램을 취약하게 만들 수 있다!
<ul id="pragma-line-38">
<li id="pragma-line-38">다음의 예제에서, len이 음수일 경우, size_t가 unsigned int와 크기가 다른 64bit환경에서 buffer-overflow가 발생한다.</li>
</ul>
<pre><code id="pragma-line-39" class="language-c">int len = attacker_controlled();
char *buf = malloc((unsigned) len);
memcpy(buf, src, len);
</code></pre>
</li>
<li id="pragma-line-44">이러한 결함은 마이그레이션을 예상하지 않고 개발한 개발자가 원인이다.</li>
<li id="pragma-line-45">또한, 이러한 truncation의 대상이 pointer인 경우 또다른 취약점을 발생시킬 수 있다.</li>
</ul>
</li>
</ul>
<h1 id="fuzzing"><a id="pragma-line-47"></a>Fuzzing</h1>
<p id="pragma-line-49">취약점을 자동으로 찾는 도구 또는 테스팅.</p>
<p id="pragma-line-51">자동화 또는 반자동화된 소프트웨어 테스트 기법으로서, 컴퓨터 프로그램에 유효한, 예상치 않은 또는 무작위 데이터를 입력하는 것이다. 이후 프로그램은 충돌이나 빌트인 코드 검증의 실패, 잠재적인 메모리 누수 발견등 같은 예외에 대한 감시가 이루어진다.</p>
<ol id="pragma-line-53">
<li id="pragma-line-53">무작의 입력을 대입한다.</li>
<li id="pragma-line-54">Crash가 발생하는지 모니터링한다.</li>
<li id="pragma-line-55">Crash가 발생한 경우, 해당 입력값을 저장한다.</li>
<li id="pragma-line-56">새로운 입력값을 생성한다.</li>
<li id="pragma-line-57">1번으로 돌아간다.</li>
</ol>

</main>

</body>

</html> 